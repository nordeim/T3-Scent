 ✓ Starting...
Slow filesystem detected. If /cdrom/project/T3-Scent/claude-3.7/.next is a network drive, consider moving it to a local folder. If you have an antivirus enabled, consider excluding your project directory.
 ✓ Ready in 1237ms
 ○ Compiling / ...
 ✓ Compiled / in 6.4s
prisma:query SELECT "public"."products"."id", "public"."products"."name", "public"."products"."slug", "public"."products"."description", "public"."products"."price", "public"."products"."compareAtPrice", "public"."products"."costPrice", "public"."products"."sku", "public"."products"."barcode", "public"."products"."weight", "public"."products"."dimensions", "public"."products"."inStock", "public"."products"."lowStockThreshold", "public"."products"."stockQuantity", "public"."products"."featured", "public"."products"."bestSeller", "public"."products"."isNew", "public"."products"."onSale", "public"."products"."saleEndDate", "public"."products"."publishedAt", "public"."products"."metaTitle", "public"."products"."metaDescription", "public"."products"."modelUrl", "public"."products"."arPlacement", "public"."products"."leadTime", "public"."products"."safetyStock", "public"."products"."turnoverRate", "public"."products"."forecastedDemand", "public"."products"."depletionDate", "public"."products"."createdAt", "public"."products"."updatedAt" FROM "public"."products" WHERE ("public"."products"."publishedAt" IS NOT NULL AND "public"."products"."publishedAt" <= $1 AND "public"."products"."featured" = $2) ORDER BY "public"."products"."createdAt" DESC LIMIT $3 OFFSET $4
prisma:error 
Invalid `ctx.db.product.findMany()` invocation in
/cdrom/project/T3-Scent/claude-3.7/.next/server/chunks/ssr/[root-of-the-server]__da153de8._.js:560:44

  557             createdAt: "desc"
  558         };
  559 }
→ 560 const items = await ctx.db.product.findMany(
The table `public.products` does not exist in the current database.
file:///cdrom/project/T3-Scent/claude-3.7/node_modules/.prisma/client/runtime/library.js: Invalid source map. Only conformant source maps can be used to find the original code. Cause: TypeError [ERR_INVALID_ARG_TYPE]: The "payload" argument must be of type object. Received null
file:///cdrom/project/T3-Scent/claude-3.7/node_modules/.prisma/client/runtime/library.js: Invalid source map. Only conformant source maps can be used to find the original code. Cause: TypeError [ERR_INVALID_ARG_TYPE]: The "payload" argument must be of type object. Received null
Error fetching featured products for HomePage: Error [TRPCError]: 
Invalid `ctx.db.product.findMany()` invocation in
/cdrom/project/T3-Scent/claude-3.7/.next/server/chunks/ssr/[root-of-the-server]__da153de8._.js:560:44

  557             createdAt: "desc"
  558         };
  559 }
→ 560 const items = await ctx.db.product.findMany(
The table `public.products` does not exist in the current database.
    at <unknown> (src/server/api/routers/products.ts:63:41)
    at async (src/server/api/routers/products.ts:63:20)
    at async HomePage (src/app/page.tsx:48:27)
  61 |
  62 |
> 63 |       const items = await ctx.db.product.findMany({
     |                                         ^
  64 |         take: limit + 1, // Fetch one more to check for next cursor
  65 |         cursor: cursor ? { id: cursor } : undefined,
  66 |         orderBy: orderByClause, {
  code: 'INTERNAL_SERVER_ERROR',
  [cause]: Error [PrismaClientKnownRequestError]: 
  Invalid `ctx.db.product.findMany()` invocation in
  /cdrom/project/T3-Scent/claude-3.7/.next/server/chunks/ssr/[root-of-the-server]__da153de8._.js:560:44
  
    557             createdAt: "desc"
    558         };
    559 }
  → 560 const items = await ctx.db.product.findMany(
  The table `public.products` does not exist in the current database.
      at <unknown> (src/server/api/routers/products.ts:63:41)
      at async (src/server/api/routers/products.ts:63:20)
      at async HomePage (src/app/page.tsx:48:27)
    61 |
    62 |
  > 63 |       const items = await ctx.db.product.findMany({
       |                                         ^
    64 |         take: limit + 1, // Fetch one more to check for next cursor
    65 |         cursor: cursor ? { id: cursor } : undefined,
    66 |         orderBy: orderByClause, {
    code: 'P2021',
    meta: { modelName: 'Product', table: 'public.products' },
    clientVersion: '6.7.0'
  }
}

---
$ grep -v '^-- ' create_database_user.sql
CREATE USER scent_user WITH PASSWORD 'ScentAdmin%123';


CREATE DATABASE the_scent
    WITH
    OWNER = scent_user
    ENCODING = 'UTF8'
    LC_COLLATE = 'en_US.UTF-8'
    LC_CTYPE = 'en_US.UTF-8'
    TEMPLATE = template0
    TABLESPACE = pg_default
    CONNECTION LIMIT = -1;





pete@pop-os:/cdrom/project/T3-Scent/claude-3.7
$ grep postgresql .env
DATABASE_URL="postgresql://scent_user:ScentAdmin%25123@localhost:5432/the_scent?schema=public"
pete@pop-os:/cdrom/project/T3-Scent/claude-3.7
$ sudo -u postgres PGPASSWORD="Admin1234" psql -h localhost -f create_database_user.sql
psql:create_database_user.sql:3: ERROR:  role "scent_user" already exists
psql:create_database_user.sql:24: ERROR:  database "the_scent" already exists

$ sudo -u postgres PGPASSWORD="Admin1234" psql -h localhost -f create_database_schema.sql
psql:create_database_schema.sql:5: ERROR:  type "Role" already exists
psql:create_database_schema.sql:6: ERROR:  type "OrderStatus" already exists
psql:create_database_schema.sql:7: ERROR:  type "AddressType" already exists
psql:create_database_schema.sql:8: ERROR:  type "ReviewStatus" already exists
psql:create_database_schema.sql:9: ERROR:  type "NotificationType" already exists
psql:create_database_schema.sql:10: ERROR:  type "SubscriptionFrequency" already exists
psql:create_database_schema.sql:11: ERROR:  type "SubscriptionStatus" already exists
psql:create_database_schema.sql:12: ERROR:  type "LoyaltyPointLogType" already exists
psql:create_database_schema.sql:13: ERROR:  type "RewardType" already exists
psql:create_database_schema.sql:14: ERROR:  type "UserRewardStatus" already exists
psql:create_database_schema.sql:15: ERROR:  type "PurchaseOrderStatus" already exists
psql:create_database_schema.sql:16: ERROR:  type "SmartHomeDeviceType" already exists
psql:create_database_schema.sql:17: ERROR:  type "AutomationTriggerType" already exists
psql:create_database_schema.sql:18: ERROR:  type "QuizQuestionType" already exists
psql:create_database_schema.sql:35: ERROR:  relation "users" already exists
psql:create_database_schema.sql:52: ERROR:  relation "accounts" already exists
psql:create_database_schema.sql:53: ERROR:  relation "accounts_provider_providerAccountId_key" already exists
psql:create_database_schema.sql:62: ERROR:  relation "sessions" already exists
psql:create_database_schema.sql:69: ERROR:  relation "verification_tokens" already exists
psql:create_database_schema.sql:70: ERROR:  relation "verification_tokens_identifier_token_key" already exists
psql:create_database_schema.sql:105: ERROR:  relation "products" already exists
psql:create_database_schema.sql:106: ERROR:  relation "products_slug_idx" already exists
psql:create_database_schema.sql:107: ERROR:  relation "products_featured_idx" already exists
psql:create_database_schema.sql:119: ERROR:  relation "product_images" already exists
psql:create_database_schema.sql:133: ERROR:  relation "product_variants" already exists
psql:create_database_schema.sql:145: ERROR:  relation "categories" already exists
psql:create_database_schema.sql:146: ERROR:  relation "categories_slug_idx" already exists
psql:create_database_schema.sql:153: ERROR:  relation "tags" already exists
psql:create_database_schema.sql:154: ERROR:  relation "tags_slug_idx" already exists
psql:create_database_schema.sql:167: ERROR:  relation "collections" already exists
psql:create_database_schema.sql:168: ERROR:  relation "collections_slug_idx" already exists
psql:create_database_schema.sql:176: ERROR:  relation "_ProductToCategory" already exists
psql:create_database_schema.sql:177: ERROR:  relation "_ProductToCategory_AB_unique" already exists
psql:create_database_schema.sql:178: ERROR:  relation "_ProductToCategory_B_index" already exists
psql:create_database_schema.sql:186: ERROR:  relation "_ProductToTag" already exists
psql:create_database_schema.sql:187: ERROR:  relation "_ProductToTag_AB_unique" already exists
psql:create_database_schema.sql:188: ERROR:  relation "_ProductToTag_B_index" already exists
psql:create_database_schema.sql:196: ERROR:  relation "_ProductToCollection" already exists
psql:create_database_schema.sql:197: ERROR:  relation "_ProductToCollection_AB_unique" already exists
psql:create_database_schema.sql:198: ERROR:  relation "_ProductToCollection_B_index" already exists
psql:create_database_schema.sql:206: ERROR:  relation "_RelatedProducts" already exists
psql:create_database_schema.sql:207: ERROR:  relation "_RelatedProducts_AB_unique" already exists
psql:create_database_schema.sql:208: ERROR:  relation "_RelatedProducts_B_index" already exists
psql:create_database_schema.sql:235: ERROR:  relation "orders" already exists
psql:create_database_schema.sql:236: ERROR:  relation "orders_orderNumber_idx" already exists
psql:create_database_schema.sql:254: ERROR:  relation "order_items" already exists
psql:create_database_schema.sql:265: ERROR:  relation "order_history" already exists
psql:create_database_schema.sql:282: ERROR:  relation "addresses" already exists
psql:create_database_schema.sql:302: ERROR:  relation "reviews" already exists
psql:create_database_schema.sql:314: ERROR:  relation "quiz_questions" already exists
psql:create_database_schema.sql:326: ERROR:  relation "quiz_responses" already exists
psql:create_database_schema.sql:337: ERROR:  relation "newsletter_subscribers" already exists
psql:create_database_schema.sql:351: ERROR:  relation "cart_items" already exists
psql:create_database_schema.sql:352: ERROR:  relation "cart_items_guestCartUniqueItem_key" already exists
psql:create_database_schema.sql:353: ERROR:  relation "cart_items_userCartUniqueItem_key" already exists
psql:create_database_schema.sql:365: ERROR:  relation "wishlist_items" already exists
psql:create_database_schema.sql:366: ERROR:  relation "wishlist_items_userId_productId_variantId_key" already exists
psql:create_database_schema.sql:387: ERROR:  relation "product_subscriptions" already exists
psql:create_database_schema.sql:397: ERROR:  relation "loyalty_tiers" already exists
psql:create_database_schema.sql:413: ERROR:  relation "loyalty_point_logs" already exists
psql:create_database_schema.sql:433: ERROR:  relation "rewards" already exists
psql:create_database_schema.sql:448: ERROR:  relation "user_rewards" already exists
psql:create_database_schema.sql:449: ERROR:  constraint "loyalty_point_logs_userRewardId_fkey" for relation "loyalty_point_logs" already exists
psql:create_database_schema.sql:457: ERROR:  relation "role_definitions" already exists
psql:create_database_schema.sql:458: ERROR:  constraint "users_roleDefinitionId_fkey" for relation "users" already exists
psql:create_database_schema.sql:467: ERROR:  relation "permissions" already exists
psql:create_database_schema.sql:468: ERROR:  relation "permissions_action_subject_key" already exists
psql:create_database_schema.sql:477: ERROR:  relation "permission_assignments" already exists
psql:create_database_schema.sql:490: ERROR:  relation "suppliers" already exists
psql:create_database_schema.sql:511: ERROR:  relation "purchase_orders" already exists
psql:create_database_schema.sql:523: ERROR:  relation "purchase_order_items" already exists
psql:create_database_schema.sql:542: ERROR:  relation "smart_home_platform_connections" already exists
psql:create_database_schema.sql:543: ERROR:  relation "smart_home_platform_connections_userId_platformKey_key" already exists
psql:create_database_schema.sql:563: ERROR:  relation "smart_home_devices" already exists
psql:create_database_schema.sql:564: ERROR:  relation "smart_home_devices_connectionId_externalDeviceId_key" already exists
psql:create_database_schema.sql:579: ERROR:  relation "automation_rules" already exists
psql:create_database_schema.sql:591: ERROR:  relation "automation_actions" already exists
psql:create_database_schema.sql:606: ERROR:  relation "scent_schedules" already exists
psql:create_database_schema.sql:621: ERROR:  relation "notifications" already exists
psql:create_database_schema.sql:644: ERROR:  relation "site_settings" already exists
INSERT 0 0

